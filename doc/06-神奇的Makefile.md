# Makefile

​	我们之前的工作虽然不多，但却真真确确的打开了操作系统这扇大门。我们现在来看看我们现在代码变动后要重新编译并运行所作的工作：

 - 编译引导程序boot.bin
- 编译加载程序loader.bin
- 将引导程序boot.bin写入到软盘的引导扇区
- 将软盘挂载到本机的文件系统中
- 复制加载程序loader.bin到文件系统根目录下
- 卸载软盘，使其生效
- 打开bochs虚拟机运行查看效果

​	没有想到吧？当时我们沉醉于这个过程，竟然没有发现流程竟然这么复杂！而且我们现在也才只有两个文件需要编译，如果以后我们的文件多至几十个，甚至成百上千呢？如果我们还按照以上的流程去编译运行的话，恐怕每次花费的时间比我们写代码的时间都要多得多....

​	所以，我们马上来认识一个新工具：make

## Make工具

​	我们直接看《跟我一起写Makefile》这篇文章是如何描述Make的吧！

我们先知道Make的作用：Make是一个解释Makefile文件的命令行工具。

## 马上动手

​	具体详细的Makefile文件的编写，请各位自己查看网盘附件中的这个资料，我们马上开始为我们的工程编写一个Makefile文件，让它帮助我们完成自动化的编译以及一些其他工作。

​	我们的Makefile打算完成以下几个功能动作，方便以后快速编译运行工程：

 - all	             编译所有文件，生成目标文件(二进制文件，boot.bin)
 - image          生成系统镜像文件
 - debug         打开bochs进行系统的运行和调试
 - run              提示用于如何将系统安装到虚拟机上运行
 - clean           清理所有的中间编译文件
 - realclean    完全清理：清理所有的中间编译文件以及生成的目标文件（二进制文件）	









